# ğŸš€ Wayfarer (è¡Œæ­¢) - æ€»ä½“å·¥ç¨‹å®æ–½ä¸è§„æ ¼è®¡åˆ’ä¹¦ V1.0

**é¡¹ç›®ä»£å·**: Wayfarer
**ç‰ˆæœ¬**: 1.0.0 (Initial Release)
**é€‚ç”¨å¹³å°**: Android 13+ (Native), Web (Next.js)
**æ ¸å¿ƒå“²å­¦**: ç¦»çº¿ä¼˜å…ˆã€éšç§ä¸»æƒã€å…¨é‡è®°å½•ã€å¼€å‘è€…å‹å¥½ã€‚

- **è‹±æ–‡å**ï¼š**Wayfarer**
- **å¯“æ„**ï¼šâ€œè¡Œå…¶æ‰€å½“è¡Œï¼Œæ­¢å…¶æ‰€å½“æ­¢â€ã€‚æ—¢è®°å½•ä½ çš„**è¡Œ**ï¼ˆè½¨è¿¹/æ­¥æ•°ï¼‰ï¼Œä¹Ÿè®°å½•ä½ çš„**æ­¢**ï¼ˆåœç•™/ç”Ÿæ´»æ ‡è®°ï¼‰ã€‚
- **Slogan**ï¼šMap your time, trace your life. ï¼ˆä¸ˆé‡æ—¶é—´ï¼Œæç»˜äººç”Ÿã€‚ï¼‰

---

## 1. æŠ€æœ¯æ ˆä¸åŸºç¡€è®¾æ–½ (Infrastructure Stack)

åœ¨å¼€å§‹ç¼–ç å‰ï¼Œè¯·ç¡®ä¿å›¢é˜Ÿç»Ÿä¸€ä»¥ä¸‹æŠ€æœ¯æ ‡å‡†ï¼š

### 1.1 æœåŠ¡ç«¯ (Backend)

- **Runtime**: Python 3.11+
- **Framework**: **FastAPI** (å¼‚æ­¥é«˜å¹¶å‘)
- **Database**: **PostgreSQL 15** (å¯ç”¨ postgis æ‰©å±•)
- **ORM**: SQLAlchemy 2.0 (Async Mode) + Alembic (è¿ç§»å·¥å…·)
- **Task Queue**: Celery + Redis (å¤„ç†è€—æ—¶çš„å¤©æ°”æŸ¥è¯¢å’Œè½¨è¿¹æ¸…æ´—)
- **Deployment**: Docker Compose (å…¨å®¹å™¨åŒ–éƒ¨ç½²)

### 1.2 Android å®¢æˆ·ç«¯ (Mobile)

- **Language**: Kotlin
- **Architecture**: MVVM + Clean Architecture
- **Local DB**: Room (SQLite)
- **Background**: WorkManager + Foreground Service
- **Maps**: é«˜å¾·åœ°å›¾ SDK (å›½å†…å®šä½ç²¾åº¦æœ€ä½³) æˆ– Mapbox (å…¨çƒåŒ–)
- **Root Lib**: libsu (ç”¨äºä¼˜é›…åœ°è¯·æ±‚ Shell æƒé™)

### 1.3 Web å‰ç«¯ (Frontend)

- **Framework**: Next.js 14 (App Router)
- **UI Library**: Mantine UI æˆ– Shadcn/ui (ç°ä»£ã€æç®€ã€æ”¯æŒæ·±è‰²æ¨¡å¼)
- **Map Engine**: **Mapbox GL JS** (æ”¯æŒå¤§è§„æ¨¡çŸ¢é‡è½¨è¿¹æ¸²æŸ“)
- **State**: Zustand æˆ– TanStack Query

---

## 2. æ•°æ®åº“è¯¦ç»†è®¾è®¡ (Database Schema Specification)

è¯· DBA ä¸¥æ ¼æ‰§è¡Œæ­¤ Schemaï¼Œé‡ç‚¹å…³æ³¨ç©ºé—´ç´¢å¼•ã€‚

### 2.1 è¡¨ï¼šusers (ç”¨æˆ·)

| Field               | Type    | Constraint | Description                                      |
| --------------------- | --------- | ------------ | -------------------------------------------------- |
| id                  | UUID    | PK         |                                                  |
| username            | VARCHAR | Unique     |                                                  |
| hashed\_password | VARCHAR |            |                                                  |
| settings            | JSONB   |            | å­˜å‚¨ç”¨æˆ·åå¥½(å¦‚: æ˜¯å¦å¼€å¯å…¬ç½‘åˆ†äº«ã€é»˜è®¤å¯¼å‡ºæ ¼å¼) |

### 2.2 è¡¨ï¼štrack\_points (è½¨è¿¹ç‚¹ - æ ¸å¿ƒè¡¨)

- **åˆ†åŒºç­–ç•¥**: å»ºè®®æŒ‰æœˆåˆ†åŒº (Partition by Month)ï¼Œå› ä¸ºæ•°æ®é‡æå¤§ã€‚

| Field                | Type                  | Constraint    | Description                                                      |
| ---------------------- | ----------------------- | --------------- | ------------------------------------------------------------------ |
| id                   | BIGSERIAL             | PK            |                                                                  |
| user\_id          | UUID                  | FK, Index     |                                                                  |
| recorded\_at      | TIMESTAMPTZ           | Index (BRIN)  | è®°å½•æ—¶é—´ (UTC)                                                   |
| geom                 | GEOMETRY(POINT, 4326) | Index (GIST)  | **æ ¸å¿ƒåæ ‡**                                                                 |
| altitude             | REAL                  |               | æµ·æ‹”                                                             |
| accuracy             | REAL                  |               | GPSç²¾åº¦(ç±³)ï¼Œç”¨äºè¿‡æ»¤å™ªç‚¹                                        |
| speed                | REAL                  |               | ç¬æ—¶é€Ÿåº¦ (m/s)                                                   |
| step\_count       | INTEGER               |               | ä¼ æ„Ÿå™¨ç´¯è®¡æ€»æ­¥æ•°                                                 |
| step\_delta       | INTEGER               |               | è·ä¸Šä¸€ç‚¹çš„æ–°å¢æ­¥æ•°                                               |
| activity\_type    | SMALLINT              |               | 0\=Unknown, 1\=Still, 2\=Walk, 3\=Run, 4\=Vehicle |
| is\_dirty         | BOOLEAN               | Default False | åä½œå¼Šç³»ç»Ÿæ ‡è®°çš„å¼‚å¸¸ç‚¹                                           |
| weather\_snapshot | JSONB                 | Nullable      | **ç¼“å­˜çš„å¤©æ°”å¿«ç…§** (å¯¼å‡ºæ—¶å¼‚æ­¥å¡«å……)                                                |

### 2.3 è¡¨ï¼šlife\_events (ç”Ÿæ´»äº‹ä»¶/æ ‡è®°)

| Field             | Type        | Constraint | Description               |
| ------------------- | ------------- | ------------ | --------------------------- |
| id                | UUID        | PK         |                           |
| user\_id       | UUID        | FK         |                           |
| event\_type    | VARCHAR     |            | "Stay", "Trip", "Commute" |
| start\_time    | TIMESTAMPTZ |            |                           |
| end\_time      | TIMESTAMPTZ |            |                           |
| location\_name | VARCHAR     |            | "Home", "Office"          |
| manual\_note   | TEXT        |            | ç”¨æˆ·å¤‡æ³¨                  |

### 2.4 è¡¨ï¼šweather\_cache (æ°”è±¡ç¼“å­˜)

ç”¨äºå‡å°‘å¯¹ Open-Meteo çš„è¯·æ±‚ï¼ŒèŠ‚çœç½‘ç»œèµ„æºã€‚

- **Unique Index**: (geohash\_5, hour\_time) â€”â€” 5ä½ Geohash (çº¦ 5km è¯¯å·®) + æ•´ç‚¹æ—¶é—´ã€‚

---

## 3. Android ç«¯è¯¦ç»†é€»è¾‘ (Android Implementation Detail)

### 3.1 æ¨¡å—ï¼šRoot å¢å¼ºä¸å¼€å‘è€…æ¨¡å¼

- **éšè—å…¥å£é€»è¾‘**: åœ¨â€œå…³äºâ€é¡µé¢è¿ç»­ç‚¹å‡» 7 æ¬¡ç‰ˆæœ¬å·ï¼Œå¼¹å‡ºå¯†ç æ¡†ï¼Œè¾“å…¥æ­£ç¡®åè§£é” "Developer Settings"ã€‚
- **åŠŸèƒ½å®ç°**:

  - **Anti-Dozing (é˜²ç¡çœ )** :

    - è°ƒç”¨ Shell.cmd("dumpsys deviceidle whitelist +\<your.package.name\>").exec()ã€‚
    - æ­¤æ“ä½œå¯è®© App ç»•è¿‡ Android 13 çš„çœç”µç­–ç•¥ï¼Œç¡®ä¿åå° 24 å°æ—¶å­˜æ´»ã€‚
  - **Raw Sensor Monitor**:

    - ä½¿ç”¨ Root æƒé™è¯»å– /dev/input/event\* æµã€‚
    - ç”¨äºå¼€å‘è€…åœ¨ç•Œé¢ä¸Šå¯¹æ¯”ï¼šç³»ç»Ÿ API è¿”å›çš„æ­¥æ•° vs åº•å±‚ç¡¬ä»¶ä¸­æ–­æ¬¡æ•°ã€‚å¦‚æœç³»ç»Ÿ API æ­¥æ•°è¿œå¤§äºç¡¬ä»¶ä¸­æ–­ï¼Œè¯´æ˜æœ‰ Xposed æ¨¡å—åœ¨ä¿®æ”¹æ•°æ®ã€‚

### 3.2 æ¨¡å—ï¼šæ™ºèƒ½é‡‡æ ·æœåŠ¡ (Smart Tracking Service)

è¿™æ˜¯ä¸€ä¸ªå‰å°æœåŠ¡ (ForegroundService)ï¼Œå¹¶åœ¨é€šçŸ¥æ æ˜¾ç¤ºï¼šâ€œWayfarer æ­£åœ¨è®°å½•æ—¶ç©º...â€ã€‚

**çŠ¶æ€æœº (FSM) ä¼ªä»£ç é€»è¾‘**:

### 3.3 æ¨¡å—ï¼šåŒæ­¥å¼•æ“ (Sync Engine)

- **è§¦å‘æ—¶æœº**: ç½‘ç»œè¿æ¥æ¢å¤æ—¶ (Wi-Fi ä¼˜å…ˆ) æˆ– App å¯åŠ¨æ—¶ã€‚
- **æ‰“åŒ…ç­–ç•¥**: æ¯æ¬¡ä» Room æ•°æ®åº“è¯»å– 100 æ¡ sync\_status \= 0 çš„è®°å½•ã€‚
- **ä¼ è¾“æ ¼å¼**: GZIP å‹ç¼©çš„ JSONã€‚
- **å†²çªè§£å†³**: åªè¦ recorded\_at ç›¸åŒï¼ŒæœåŠ¡ç«¯è§†ä¸ºåŒä¸€æ¡è®°å½•ï¼Œæ‰§è¡Œ ON CONFLICT DO NOTHINGã€‚

---

## 4. æœåŠ¡ç«¯ä¸å¤©æ°”å›æº¯é€»è¾‘ (Server & Weather Logic)

### 4.1 æ ¸å¿ƒ APIï¼šPOST /v1/tracks/batch

- æ¥æ”¶ Android ç«¯ä¸Šä¼ çš„ JSON åˆ—è¡¨ã€‚
- **ç¬¬ä¸€æ­¥**: å­˜å…¥ track\_points è¡¨ã€‚
- **ç¬¬äºŒæ­¥ (å¼‚æ­¥)** : è§¦å‘ Celery ä»»åŠ¡ audit\_track\_segment(user\_id, start\_time, end\_time)ã€‚

  - è®¡ç®—é€Ÿåº¦æ˜¯å¦å¼‚å¸¸ã€‚
  - è®¡ç®—æ­¥æ•°/è·ç¦»æ¯” (Step/Distance Ratio)ã€‚
  - å¦‚æœå¼‚å¸¸ï¼Œæ›´æ–° is\_dirty \= trueã€‚

### 4.2 å¯¼å‡ºä¸å¤©æ°”å¡«å…… (The Export Engine)

è¿™æ˜¯æ»¡è¶³ä½ â€œè¯¦ç»†å¯¼å‡ºâ€éœ€æ±‚çš„å…³é”®æµç¨‹ã€‚

- **API**: GET /v1/export?start\=...&end\=...&format\=csv&include\_weather\=true
- **å¤„ç†æµç¨‹**:

  *. **Stream Query**: ä½¿ç”¨ SQLAlchemy çš„ yield\_per(1000) æµå¼è¯»å–æ•°æ®åº“ï¼ˆé˜²æ­¢å†…å­˜æº¢å‡ºï¼‰ã€‚
  *. **Weather Enrichment (å¤©æ°”å¡«å……)** :

  - å¯¹äºæ¯ä¸ªç‚¹ï¼Œæ£€æŸ¥ weather\_snapshot å­—æ®µæ˜¯å¦ä¸ºç©ºã€‚
  - å¦‚æœä¸ä¸ºç©º -\> ç›´æ¥ä½¿ç”¨ã€‚
  - å¦‚æœä¸ºç©º -\> è®¡ç®—è¯¥ç‚¹çš„ GeoHash å’Œ æ•´ç‚¹æ—¶é—´ã€‚
  - æŸ¥è¯¢ weather\_cache è¡¨ã€‚
  - å¦‚æœ Cache æœªå‘½ä¸­ -\> è°ƒç”¨ **Open-Meteo Historical API** (ä¸€æ¬¡è¯·æ±‚è·å–è¯¥ç‚¹ä¸€æ•´å¤©çš„å¤©æ°”æ•°æ®ï¼Œå‡å°‘ HTTP è°ƒç”¨)ï¼Œå­˜å…¥ Cacheï¼Œå¹¶æ›´æ–°åˆ° track\_points.weather\_snapshotã€‚
    *. **CSV ç”Ÿæˆ**: å°†æ•°æ®å†™å…¥ StreamingResponse è¿”å›ç»™å‰ç«¯ã€‚

---

## 5. Web ç«¯äº¤äº’ç»†èŠ‚ (Web Interaction)

### 5.1 æ—¶é—´è½´ç¼–è¾‘å™¨ (Timeline Editor)

- **UI ç»„ä»¶**: åº•éƒ¨æ¨ªå‘æ—¶é—´è½´ï¼Œæ”¯æŒç¼©æ”¾ (Zoomable)ã€‚
- **åŠŸèƒ½**:

  - **æ¼‚ç§»ä¿®å¤**: é€‰ä¸­ä¸€æ®µè½¨è¿¹ï¼ˆå¦‚åœ¨å®¤å†… GPS ä¹±é£ï¼‰ï¼Œç‚¹å‡»â€œå¹³æ»‘â€æˆ–â€œåˆ é™¤â€ã€‚
  - **è¯­ä¹‰æ ‡è®°**: å³é”®ç‚¹å‡»åœ°å›¾ä¸Šçš„æŸä¸ªä½ç½® -\> "å°†æ­¤å¤„è®¾ä¸º [å®¶]"ã€‚åç«¯è‡ªåŠ¨å›æº¯å†å²æ•°æ®ï¼Œå°†æ‰€æœ‰è½å…¥è¯¥åŠå¾„çš„åœç•™ç‚¹æ ‡è®°ä¸ºâ€œåœ¨å®¶â€ã€‚

### 5.2 å¯¼å‡ºå‘å¯¼ (Export Wizard)

- æä¾›ä¸€ä¸ªå¤é€‰æ¡†ï¼š **[x] åŒ…å«è¯¦ç»†æ°”è±¡æ•°æ® (æ¸©åº¦/å¤©æ°”/é£é€Ÿ)** ã€‚
- æç¤ºæ–‡æ¡ˆï¼šâ€œå‹¾é€‰æ­¤é¡¹å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´å¤„ç†ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šä¸ºæ‚¨æ£€ç´¢å†å²æ°”è±¡æ¡£æ¡ˆã€‚â€

---

## 6. é¡¹ç›®å®æ–½é‡Œç¨‹ç¢‘ (Milestones)

å»ºè®®å¼€å‘å‘¨æœŸï¼š6 - 8 å‘¨ã€‚

### Phase 1: éª¨æ¶ä¸é‡‡é›† (MVP) - Week 1 & 2

- **ç›®æ ‡**: æ‰‹æœºèƒ½è·‘ï¼ŒæœåŠ¡å™¨èƒ½å­˜ã€‚
- **ä»»åŠ¡**:

  - æ­å»º FastAPI + PostGIS ç¯å¢ƒã€‚
  - Android å®Œæˆå‰å°æœåŠ¡ã€æ­¥æ•°è·å–ã€GPS è·å–ã€Room å­˜å‚¨ã€‚
  - Android å®ŒæˆåŸºæœ¬çš„ Upload API è°ƒç”¨ã€‚
- **äº¤ä»˜ç‰©**: ä¸€ä¸ªå®‰è£…åŒ…ï¼Œè£…ä¸Šåèµ°ä¸€åœˆï¼Œæ•°æ®åº“é‡Œæœ‰åæ ‡ã€‚

### Phase 2: æ™ºèƒ½ä¸ä¼˜åŒ– - Week 3 & 4

- **ç›®æ ‡**: çœç”µï¼Œä¸æ–­è¿ã€‚
- **ä»»åŠ¡**:

  - Android å®ç°çŠ¶æ€æœº (FSM) åˆ‡æ¢é‡‡æ ·é¢‘ç‡ã€‚
  - Android å®ç°â€œå¼€å‘è€…è®¾ç½®â€ä¸­çš„ Root ç™½åå•åŠŸèƒ½ã€‚
  - Web ç«¯å®ç°åŸºç¡€åœ°å›¾å±•ç¤ºã€‚
- **äº¤ä»˜ç‰©**: æ‰‹æœºå¾…æœºè€—ç”µæ­£å¸¸ï¼Œè½¨è¿¹è®°å½•è¿ç»­ã€‚

### Phase 3: äº¤äº’ä¸åä½œå¼Š - Week 5 & 6

- **ç›®æ ‡**: æ•°æ®å¯ç”¨ï¼Œç•Œé¢å¥½ç”¨ã€‚
- **ä»»åŠ¡**:

  - Web ç«¯å¼€å‘æ—¶é—´è½´ã€ç¼–è¾‘å™¨ã€‚
  - åç«¯å®ç°æ­¥æ•°å®¡è®¡é€»è¾‘ (Anti-Cheat)ã€‚
  - å®ç° LifeEvent è‡ªåŠ¨æ ‡è®°ã€‚

### Phase 4: ç»ˆæå¢å¼º (å¤©æ°”ä¸å¯¼å‡º) - Week 7+

- **ç›®æ ‡**: æ»¡è¶³æå®¢éœ€æ±‚ã€‚
- **ä»»åŠ¡**:

  - å¯¹æ¥ Open-Meteoï¼Œå®ç°ç¼“å­˜å±‚ã€‚
  - å¼€å‘ CSV/GPX è¶…çº§å¯¼å‡ºå¼•æ“ã€‚
  - å…¨é“¾è·¯è”è°ƒä¸å‹åŠ›æµ‹è¯•ã€‚

---

## 7. é£é™©è¯„ä¼°ä¸åº”å¯¹ (Risk Management)

*. **é£é™©**: Android å‚å•†æ€åå°ç­–ç•¥ä¸åŒï¼ˆå¦‚å°ç±³ã€åä¸ºï¼‰ã€‚

- **åº”å¯¹**: åœ¨åº”ç”¨å¯åŠ¨é¡µï¼Œå¼•å¯¼ç”¨æˆ·æ‰‹åŠ¨å¼€å¯â€œè‡ªå¯åŠ¨æƒé™â€ã€‚å¯¹äº Root ç”¨æˆ·ï¼Œç›´æ¥ä½¿ç”¨ Shell å‘½ä»¤æ·»åŠ ç™½åå•ã€‚
  *. **é£é™©**: Open-Meteo æ¥å£è¶…æ—¶ã€‚
- **åº”å¯¹**: å¯¼å‡ºåŠŸèƒ½å¿…é¡»æ˜¯**å¼‚æ­¥**çš„ã€‚å‰ç«¯æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œåç«¯é€šè¿‡ WebSocket æ¨é€è¿›åº¦ï¼Œæˆ–è€…å¯¼å‡ºå®Œæˆåå‘é€ä¸‹è½½é“¾æ¥åˆ°é‚®ç®±ã€‚
  *. **é£é™©**: æ•°æ®åº“è†¨èƒ€ã€‚GPS æ•°æ®é‡å·¨å¤§ã€‚
- **åº”å¯¹**: å¿…é¡»åœ¨ä¸Šçº¿ç¬¬ä¸€å¤©å°±åšå¥½ PostGIS çš„è¡¨åˆ†åŒº (Table Partitioning)ã€‚å®šæœŸå°†ä¸€å¹´å‰çš„å†·æ•°æ®å½’æ¡£ã€‚

## ç‰¹åˆ«æ³¨æ„

- **Bento Grid (ä¾¿å½“ç›’å¸ƒå±€)** ï¼šåƒè‹¹æœå‘å¸ƒä¼š PPT é‚£æ ·çš„æ¨¡å—åŒ–å¡ç‰‡ã€‚
- **Dark Mode First (æš—é»‘æ¨¡å¼ä¼˜å…ˆ)** ï¼šæ·±é‚ƒçš„é»‘åº• + éœ“è™¹è‰²çš„å¾®å…‰ã€‚
- **Glassmorphism (ç£¨ç ‚ç»ç’ƒ)** ï¼šåŠé€æ˜ã€æ¨¡ç³ŠèƒŒæ™¯ã€‚
- **Micro-interactions (å¾®äº¤äº’)** ï¼šä¸æ»‘çš„åŠ¨ç”»ï¼Œç‚¹å‡»ä¼šæœ‰å›å¼¹åé¦ˆã€‚


> ###  Web å‰ç«¯ï¼šé¢œå€¼å³æ­£ä¹‰ (The "Cyber-Aesthetic" Web)
>
> æ—¢ç„¶æ˜¯ React (Next.js) ç”Ÿæ€ï¼Œæˆ‘å¼ºçƒˆæ¨èä»¥ä¸‹ç»„åˆï¼Œè¿™èƒ½è®©ä½ çš„ç½‘é¡µç‰ˆçœ‹èµ·æ¥åƒ **Linear**ã€**Raycast** æˆ– **Arc Browser** é‚£æ ·ç²¾è‡´ã€‚
>
> #### 1. UI ç»„ä»¶åº“é€‰å‹ï¼š**Shadcn/ui** + **Tailwind CSS**
>
> è¿™æ˜¯ç›®å‰æœ€ç«ã€æœ€ç¬¦åˆâ€œç°ä»£å®¡ç¾â€çš„æ–¹æ¡ˆã€‚
>
> - **ä¸ºä»€ä¹ˆé€‰å®ƒï¼Ÿ**
>
>   - **æç®€å†·æ·¡é£**ï¼šé»˜è®¤å°±æ˜¯æç»†çš„è¾¹æ¡†ã€é«˜çº§çš„é»‘ç™½ç°é…è‰²ï¼Œéå¸¸ç¬¦åˆâ€œæ•°æ®ä»ªè¡¨ç›˜â€çš„æ°”è´¨ã€‚
>   - **é«˜åº¦å¯å®šåˆ¶**ï¼šæƒ³è¦â€œèµ›åšæœ‹å…‹â€è¿˜æ˜¯â€œæç®€ä¸»ä¹‰â€ï¼Œæ”¹å‡ ä¸ª Tailwind å˜é‡å°±è¡Œã€‚
>
> #### 2. åŠ¨ç”»åº“ï¼š**Framer Motion**
>
> **æ²¡æœ‰åŠ¨ç”»çš„ UI æ˜¯æ²¡æœ‰çµé­‚çš„ã€‚**
>
> - **ç”¨é€”**ï¼šé¡µé¢åˆ‡æ¢æ—¶çš„å¹³æ»‘è¿‡æ¸¡ã€æ•°å­—è·³åŠ¨æ•ˆæœï¼ˆæ­¥æ•°ä» 0 æ»šåˆ° 10000ï¼‰ã€å›¾è¡¨çš„ç”Ÿé•¿åŠ¨ç”»ã€‚
> - **é£æ ¼**ï¼šå¯ä»¥åšå‡ºåƒ iOS ä¸€æ ·çš„ç‰©ç†å›å¼¹æ•ˆæœ (Spring Physics)ã€‚
>
> #### 3. è®¾è®¡å¸ƒå±€ç†å¿µï¼š**Bento Grid (ä¾¿å½“ç›’)**
>
> ä¸è¦åšä¼ ç»Ÿçš„â€œå·¦ä¾§èœå•+å³ä¾§å¤§è¡¨æ ¼â€ã€‚è¦åš**ä»ªè¡¨ç›˜**ã€‚
>
> - **è®¾è®¡è‰å›¾**ï¼š
>
>   - å·¦ä¸Šè§’å¤§æ–¹å—ï¼šä»Šæ—¥æ­¥æ•°ï¼ˆè¶…å¤§å­—ä½“ï¼‰ã€‚
>   - å³ä¸Šè§’é•¿æ¡ï¼šå½“å‰ä½ç½®åœ°å›¾ç¼©ç•¥å›¾ã€‚
>   - ä¸‹æ–¹é•¿æ¡ï¼šæ—¶é—´è½´æ³¢å½¢å›¾ã€‚
>   - å³ä¸‹è§’æ–¹å—ï¼šå¤©æ°”ç»„ä»¶ï¼ˆæ¯›ç»ç’ƒç‰¹æ•ˆï¼ŒèƒŒæ™¯åŠ¨æ€ä¸‹é›¨ï¼‰ã€‚
>
> ---
>
> ### äºŒã€ Android ç«¯ï¼šæ–°ä¸–ä»£åŸç”Ÿ (Next-Gen Native)
>
> **ç»å¯¹ä¸è¦ç”¨ XML å†™å¸ƒå±€äº†ï¼**  é‚£æ˜¯ä¸Šä¸ªæ—¶ä»£çš„äº§ç‰©ã€‚
> ç°åœ¨çš„ Android å¼€å‘ï¼Œä¸ä»…ä»£ç è¦ä¼˜é›…ï¼Œç•Œé¢ä¹Ÿè¦å‘ iOS çš„æµç•…åº¦çœ‹é½ã€‚
>
> #### 1. æ ¸å¿ƒæ¡†æ¶ï¼š**Jetpack Compose**
>
> è¿™æ˜¯ Google æ¨å‡ºçš„å£°æ˜å¼ UI æ¡†æ¶ï¼ˆç±»ä¼¼äº React Native æˆ– Flutterï¼Œä½†å®ƒæ˜¯çº¯åŸç”Ÿçš„ï¼‰ã€‚
>
> - **ä¼˜åŠ¿**ï¼š
>
>   - **ä»£ç å³è®¾è®¡**ï¼šä½ å¯ä»¥åƒå†™ç½‘é¡µä¸€æ ·å†™å®‰å“ç•Œé¢ã€‚
>   - **åŠ¨ç”»æ— æ•Œ**ï¼šå®ç°â€œå…ƒç´ å…±äº«è½¬æ¢â€ï¼ˆæ¯”å¦‚ç‚¹å‡»åˆ—è¡¨é‡Œçš„ä¸€ä¸ªå°åœ°å›¾ï¼Œå®ƒè‡ªåŠ¨æ”¾å¤§å¹¶å½¢å˜å±•å¼€æˆå…¨å±åœ°å›¾ï¼‰éå¸¸å®¹æ˜“ã€‚
>   - **ä¸»é¢˜å¼•æ“**ï¼šå®Œç¾æ”¯æŒ **Material You (Material 3)** ï¼Œå¯ä»¥è‡ªåŠ¨å¸å–ç”¨æˆ·å£çº¸çš„é¢œè‰²ä½œä¸º App çš„ä¸»é¢˜è‰²ï¼ˆéå¸¸ä¸ªæ€§åŒ–ï¼‰ã€‚
>
> #### 2. æ¶æ„è®¾è®¡ï¼š**MVVM + MVI (å•å‘æ•°æ®æµ)**
>
> ä¸ºäº†æ”¯æ’‘â€œå¥½çœ‹â€ï¼Œä»£ç å¿…é¡»â€œå¹²å‡€â€ã€‚
>
> - **View Layer (Compose)** : åªè´Ÿè´£ç”»å›¾ï¼Œä¸å¤„ç†é€»è¾‘ã€‚
> - **ViewModel**: æŒæœ‰ UiStateã€‚
>
>   - ä¸è¦åˆ†æ•£çš„çŠ¶æ€ï¼Œè¦æŠŠæ•´ä¸ªå±å¹•çš„çŠ¶æ€å®šä¹‰ä¸ºä¸€ä¸ª Data Classï¼Œä¾‹å¦‚ï¼š
>   - è¿™æ ·å¯ä»¥é¿å… UI é—ªçƒï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚
>
> #### 3. è§†è§‰é£æ ¼æŒ‡å— (The Visual Style Guide)
>
> è¦è®©å®‰å“ App çœ‹èµ·æ¥â€œå¹´è½»â€ï¼Œè¯·éµå¾ªä»¥ä¸‹ä¸‰æ¡å†›è§„ï¼š
>
> - **Edge-to-Edge (æ²‰æµ¸å¼)** ï¼š
>
>   - å†…å®¹å¿…é¡»**å»¶ä¼¸åˆ°çŠ¶æ€æ å’Œå¯¼èˆªæ ä¸‹æ–¹**ã€‚ä¸è¦è®©é¡¶éƒ¨æœ‰ä¸€æ¡é»‘é»‘çš„çŠ¶æ€æ ã€‚
>   - åœ°å›¾åº”è¯¥æ˜¯å…¨å±çš„åº•å›¾ï¼Œä¸Šé¢çš„æŒ‰é’®æ‚¬æµ®åœ¨åœ°å›¾ä¹‹ä¸Šã€‚
> - **Bottom Sheet Navigation (æŠ½å±‰å¼å¯¼èˆª)** ï¼š
>
>   - å‚è€ƒ **Google Maps** æˆ– **Apple Maps** çš„äº¤äº’ã€‚
>   - åœ°å›¾æ°¸è¿œåœ¨åº•ä¸‹ã€‚
>   - æ­¥æ•°æ•°æ®ã€æ§åˆ¶å¼€å…³æ”¾åœ¨ä¸€ä¸ª**åº•éƒ¨å¯æ‹–æ‹½çš„é¢æ¿ (Bottom Sheet)**  ä¸Šã€‚ç”¨æˆ·æƒ³çœ‹è¯¦ç»†æ•°æ®ï¼Œå°±æŠŠé¢æ¿å¾€ä¸Šæ‹‰ï¼›æƒ³çœ‹åœ°å›¾ï¼Œå°±å¾€ä¸‹æ‹‰ã€‚è¿™ç§äº¤äº’éå¸¸ç°ä»£ä¸”ç›´è§‚ã€‚
> - **Squircle (æ–¹åœ†å½¢)** ï¼š
>
>   - ä¸è¦ç”¨æ­»æ¿çš„ç›´è§’ï¼Œä¹Ÿä¸è¦ç”¨çº¯åœ†è§’ã€‚ä½¿ç”¨ **Squircle** (è¶…æ¤­åœ†)ï¼Œè¿™æ˜¯ iOS å›¾æ ‡çš„å½¢çŠ¶ï¼Œçœ‹èµ·æ¥æ›´è‡ªç„¶ã€æ›´æŸ”å’Œã€‚
>
> ---
>
> ### ä¸‰ã€ æ€»ç»“å»ºè®® (Architect-X Summary)
>
> | å¹³å° | æ ¸å¿ƒæ¡†æ¶ | UI åº“/é£æ ¼         | åŠ¨ç”»å¼•æ“          | å…³é”®è¯                     |
> | ------ | ---------- | -------------------- | ------------------- | ---------------------------- |
> | **Web**     | Next.js  | **Shadcn/ui** (æç®€) æˆ– **NextUI** (ç‚«é…·) | **Framer Motion**                  | Bento Grid, Glassmorphism  |
> | **Android**     | Kotlin   | **Jetpack Compose** + Material 3      | Compose Animation | Edge-to-Edge, Bottom Sheet |
>
> **ç»™å‰ç«¯å›¢é˜Ÿçš„ä¸€å¥è¯æŒ‡ä»¤**ï¼š
>
>> "Web ç«¯è¯·å‚è€ƒ Linear.app çš„å®˜ç½‘è®¾è®¡é£æ ¼ï¼Œä½¿ç”¨ Shadcn/ui å®ç°æ·±è‰²æ¨¡å¼ä¸‹çš„ Bento Grid å¸ƒå±€ï¼›Android ç«¯è¯·å®Œå…¨ä½¿ç”¨ Jetpack Composeï¼Œäº¤äº’é€»è¾‘å‚è€ƒç³»ç»Ÿçº§åœ°å›¾åº”ç”¨ï¼Œé‡‡ç”¨åº•éƒ¨æŠ½å±‰å¼è®¾è®¡ã€‚"
>>